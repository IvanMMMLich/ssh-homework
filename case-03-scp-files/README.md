# Кейс 3: Копирование файлов с помощью SCP

## Что нужно было сделать
Научиться копировать файлы между компьютерами с помощью команды SCP (Secure Copy Protocol). Скопировать файл с локальной машины на удаленный сервер и обратно.

## Зачем это нужно
В реальной работе постоянно нужно копировать файлы на сервер (код, конфиги, данные) и обратно (логи, бэкапы, результаты). SCP делает это безопасно через SSH.

## Как я это делал

### Шаг 1: Создал тестовый файл

Создал простой текстовый файл для копирования:
```bash
touch test-file.txt
cat > test-file.txt
This is a test file for SCP testing
```

**Что сделал:**
- Создал пустой файл командой `touch`
- Добавил текст через `cat >`
- Нажал Ctrl+D для сохранения

**Проверил содержимое:**
```bash
cat test-file.txt
```

Результат: файл создан, содержит текст "This is a test file for SCP testing", размер 36 байт.

---

### Шаг 2: Скопировал файл НА сервер (Desktop)

**Команда:**
```bash
scp test-file.txt ivansycev@localhost:~/Desktop/
```

**Что означает команда:**
- `scp` - команда копирования через SSH
- `test-file.txt` - что копируем (исходный файл)
- `ivansycev@localhost` - куда копируем (пользователь@сервер)
- `:~/Desktop/` - путь на сервере (тильда ~ = домашняя папка)

**Что такое тильда (~):**
`~` это сокращение для `/Users/ivansycev`, так короче писать пути!

**Что произошло:**
Терминал попросил пароль от Mac, я ввел. Потом показал прогресс копирования:
```
test-file.txt    100%   36    44.2KB/s   00:00
```

**Результат:**
-  Попросило пароль - ввел успешно
-  Размер файла: 36 байт
-  Скорость передачи: 44.2 KB/s
-  Прогресс: 100% - файл скопирован полностью!

---

### Шаг 3: Проверил что файл появился на Desktop

**Команда:**
```bash
ls -la ~/Desktop/ | grep test-file
```

**Результат:**
```
-rw-r--r--  1 ivansycev  staff  36 Oct 24 15:30 test-file.txt
```

Файл появился на рабочем столе! Размер совпадает (36 байт).

---

### Шаг 4: Скопировал файл ОБРАТНО (с сервера к себе)

Теперь копирую в обратную сторону - С Desktop обратно в папку проекта:

**Команда:**
```bash
scp ivansycev@localhost:~/Desktop/test-file.txt ./test-file-back.txt
```

**Что означает:**
- Копируем С сервера (Desktop)
- Сохраняем в текущую папку (`./`) 
- Под новым именем `test-file-back.txt`

**Зачем так:**
В реальной работе так скачивают файлы с сервера - логи, бэкапы, результаты работы программ.

**Что произошло:**
Снова попросило пароль, ввел. Показало прогресс:
```
test-file.txt    100%   36    55.3KB/s   00:00
```

**Результат:**
-  Файл скопирован обратно как `test-file-back.txt`
-  Скорость: 55.3 KB/s
-  Прогресс: 100%

---

### Шаг 5: Проверил что файлы одинаковые

**Команды:**
```bash
cat test-file.txt
cat test-file-back.txt
```

**Результат:**
Оба файла содержат одинаковый текст:
```
This is a test file for SCP testing
```

Размер обоих файлов: 36 байт.

**Это доказывает что SCP работает правильно!** Файл скопирован туда и обратно без изменений.

---

### Шаг 6: Убрал тестовый файл с Desktop
```bash
rm ~/Desktop/test-file.txt
```

Удалил файл чтобы не мусорить на рабочем столе.

---

## Итог

 Создал тестовый файл (36 байт)  
 Успешно скопировал файл НА сервер через SCP  
 Проверил что файл появился на сервере  
 Успешно скопировал файл ОБРАТНО с сервера  
 Проверил что оба файла идентичны  
 Очистил Desktop от тестовых файлов

SCP работает отлично! Файлы копируются в обе стороны без потерь данных.

## Основные команды SCP
```bash
# Копирование НА сервер
scp local-file.txt user@server:/path/on/server/

# Копирование С сервера
scp user@server:/path/to/file.txt ./local-file.txt

# Копирование папки (рекурсивно)
scp -r folder/ user@server:/path/

# Копирование с указанием порта (если SSH не на 22)
scp -P 2222 file.txt user@server:/path/
```

## Формат команды SCP
```
scp [откуда] [куда]
```

Где:
- `[откуда]` - локальный файл или `user@server:/path/file`
- `[куда]` - локальный путь или `user@server:/path/`

## Полезные опции

- `-r` - рекурсивное копирование (для папок)
- `-P порт` - указать порт SSH (если не 22)
- `-v` - подробный вывод (verbose)
- `-C` - сжатие данных при передаче

## В реальной работе

В production окружении команды выглядят так:
```bash
# Загрузка кода на сервер
scp myapp.zip admin@production-server.com:/var/www/

# Скачивание логов с сервера
scp admin@server.com:/var/log/app.log ./logs/

# Копирование бэкапа
scp admin@server.com:/backups/db-backup.sql ./backups/
```
EOF

cat README.md
